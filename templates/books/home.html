{% extends "base.html" %}
{% block title %}ุงูุฑุฆูุณูุฉ{% endblock %}

{% block content %}
<section class="space-y-10">
  <!-- Hero -->
  <div class="relative bg-white/5 border border-white/10 rounded-3xl p-8 overflow-hidden">
    <div class="absolute -top-12 -left-12 w-72 h-72 bg-indigo-500/20 blur-3xl rounded-full"></div>
    <div class="absolute -bottom-12 -right-12 w-72 h-72 bg-emerald-500/15 blur-3xl rounded-full"></div>
    <h1 class="text-4xl font-extrabold mb-2">ููุชุจุชู ๐</h1>
    <p class="text-slate-300 mb-4">ุงุฑูุน ูุชุจูุ ุตูููุงุ ูุฎูู ุงููุฑุงุก ูุณุชูุชุนูุง ุจูุง.</p>
    <div class="flex gap-3 flex-wrap">
      <a href="{% url 'book_list' %}" class="px-6 py-3 rounded-2xl bg-indigo-500 hover:bg-indigo-400 font-semibold">ุชุตูุญ ุงููุชุจ</a>
      {% if user.is_authenticated %}
        <a href="{% url 'me_book_create' %}" class="px-6 py-3 rounded-2xl bg-white/10 hover:bg-white/15">ุงุฑูุน ูุชุงุจ</a>
      {% endif %}
    </div>
  </div>

  <!-- Latest Books -->
  <div>
    <h2 class="text-xl font-bold mb-4">๐ ุฃุญุฏุซ ุงููุชุจ</h2>
    <div class="grid sm:grid-cols-2 lg:grid-cols-3 gap-5">
      {% for book in latest %}
        <a href="{% url 'book_detail' book.slug %}" class="card group rounded-3xl border border-white/10 bg-white/5 p-4 hover:bg-white/10 transition">
          <div class="aspect-[3/4] rounded-2xl bg-slate-900/70 overflow-hidden mb-3">
            {% if book.cover %}
              <img class="w-full h-full object-cover group-hover:scale-105 transition duration-300" src="{{ book.cover.url }}" alt="{{ book.title }}">
            {% else %}
              <div class="w-full h-full flex items-center justify-center text-slate-400">ุจุฏูู ุบูุงู</div>
            {% endif %}
          </div>
          <h3 class="text-lg font-bold">{{ book.title }}</h3>
          <p class="text-slate-300 text-sm mt-1">{{ book.author_name }}</p>
        </a>
      {% empty %}
        <div class="text-slate-300">ูุง ุชูุฌุฏ ูุชุจ ุจุนุฏ.</div>
      {% endfor %}
    </div>
  </div>

  <!-- Categories -->
  <div class="mt-6">
    <h3 class="text-lg font-bold mb-2">๐๏ธ ุงูุชุตูููุงุช</h3>
    <div class="flex flex-wrap gap-2">
      {% for c in categories %}
        <a href="{% url 'category_page' c.slug %}" class="px-3 py-2 rounded-2xl bg-white/5 border border-white/10 text-sm hover:bg-white/10 transition">{{ c.name }} ({{ c.total }})</a>
      {% endfor %}
    </div>
  </div>

  <!-- Tags -->
  <div class="mt-6">
    <h3 class="text-lg font-bold mb-2">๐ท๏ธ ุงููุณูู</h3>
    <div class="flex flex-wrap gap-2">
      {% for t in tags %}
        <a href="{% url 'tag_page' t.slug %}" class="px-3 py-2 rounded-2xl bg-white/5 border border-white/10 text-sm hover:bg-white/10 transition">{{ t.name }} ({{ t.total }})</a>
      {% endfor %}
    </div>
  </div>
</section>
{% endblock %}
